{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/LoadMoreBtn/LoadMoreBtn.module.css","App.module.css","components/services/images-api.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/Loader/Loader.js","components/LoadMoreBtn/LoadMoreBtn.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","ApiServices","fetchImg","a","searchQuery","page","fetch","then","response","json","Searchbar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","this","className","styles","Form","type","Button","ButtonLabel","onChange","Input","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","images","onClick","map","webformatURL","id","tags","largeImageURL","Item","data-largeurl","src","alt","Image","ImageGallery","onImgClick","Modal","handleKeyDownEsc","closeModal","code","handleOverlayClick","currentTarget","window","addEventListener","removeEventListener","largeImg","Overlay","LoaderComp","color","height","width","LoadMore","App","showModal","largeImage","loading","onChangeQuery","query","toggleModal","getLargeImg","dataset","largeurl","fetchImages","options","hits","prevState","finally","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","LoadMoreBtn","length","Loader","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8dc83708.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Item\":\"ImageGalleryItem_Item__1SkAU\",\"Image\":\"ImageGalleryItem_Image__c1hY8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2GMCG\",\"Modal\":\"Modal_Modal__zc-EP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2WkNB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"LoadMoreBtn_Button__g8_GM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1heAq\"};","const API_KEY = \"21253652-b0771bb4bc82300d1ee8677db\";\r\n\r\nconst fetchImg = async ({ searchQuery, page }) => {\r\n  return await fetch(\r\n    `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n  ).then((response) => response.json());\r\n};\r\n\r\nconst ApiServices = {\r\n  fetchImg,\r\n};\r\nexport default ApiServices;\r\n","import React, { Component } from \"react\";\r\nimport styles from \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    inputValue: \"\",\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ inputValue: e.target.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({ inputValue: \"\" });\r\n  };\r\n\r\n  render() {\r\n    const { inputValue } = this.state;\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form onSubmit={this.handleSubmit} className={styles.Form}>\r\n          <button type=\"submit\" className={styles.Button}>\r\n            <span className={styles.ButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            onChange={this.handleChange}\r\n            value={inputValue}\r\n            className={styles.Input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import styles from './ImageGalleryItem.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ images, onClick }) => {\r\n  return images.map(({ webformatURL, id, tags, largeImageURL }) => {\r\n    return (\r\n      <li key={id} onClick={onClick} className={styles.Item}>\r\n        <img\r\n          data-largeurl={largeImageURL}\r\n          src={webformatURL}\r\n          alt={tags}\r\n          className={styles.Image}\r\n        />\r\n      </li>\r\n    );\r\n  });\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      webformatURL: PropTypes.string.isRequired,\r\n      tags: PropTypes.string.isRequired,\r\n      id: PropTypes.number.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n    }).isRequired,\r\n  ).isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport styles from './ImageGallery.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({ onImgClick, onClick, images }) => (\r\n  <ul onClick={onImgClick} className={styles.ImageGallery}>\r\n    <ImageGalleryItem onClick={onClick} images={images} />\r\n  </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  onImgClick: PropTypes.func.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n  images: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from 'react';\r\nimport styles from './Modal.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDownEsc);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDownEsc);\r\n  }\r\n  handleKeyDownEsc = e => {\r\n    const { closeModal } = this.props;\r\n    if (e.code === 'Escape') {\r\n      closeModal();\r\n    }\r\n  };\r\n  handleOverlayClick = e => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n  render() {\r\n    const { largeImg, alt } = this.props;\r\n    return (\r\n      <div className={styles.Overlay} onClick={this.handleOverlayClick}>\r\n        <div className={styles.Modal}>\r\n          <img src={largeImg} alt={alt} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  closeModal: PropTypes.func.isRequired,\r\n  largeImg: PropTypes.string.isRequired,\r\n  alt: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import Loader from 'react-loader-spinner';\r\n\r\nconst LoaderComp = () => {\r\n  return <Loader type=\"BallTriangle\" color=\"#3f51b5\" height={80} width={80} />;\r\n};\r\n\r\nexport default LoaderComp;\r\n","import styles from './LoadMoreBtn.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst LoadMore = ({ onChange }) => {\r\n  return (\r\n    <button className={styles.Button} onClick={onChange} type=\"button\">\r\n      load more\r\n    </button>\r\n  );\r\n};\r\n\r\nLoadMore.propTypes = { onChange: PropTypes.func.isRequired };\r\n\r\nexport default LoadMore;\r\n","import React, { Component } from \"react\";\r\n\r\nimport ApiServices from \"./components/services/images-api\";\r\nimport Searchbar from \"./components/Searchbar\";\r\nimport ImageGallery from \"./components/ImageGallery\";\r\nimport Modal from \"./components/Modal\";\r\nimport Loader from \"./components/Loader\";\r\nimport LoadMore from \"./components/LoadMoreBtn\";\r\nimport styles from \"../src/App.module.css\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    searchQuery: \"\",\r\n    page: 1,\r\n    images: [],\r\n    showModal: false,\r\n    largeImage: \"\",\r\n    loading: false,\r\n    alt: \"\",\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.searchQuery !== this.state.searchQuery) {\r\n      this.fetchImages();\r\n    }\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  }\r\n\r\n  onChangeQuery = (query) => {\r\n    this.setState({ searchQuery: query, page: 1, images: [] });\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  getLargeImg = (e) => {\r\n    this.setState({ largeImage: e.target.dataset.largeurl, alt: e.target.alt });\r\n  };\r\n\r\n  fetchImages = () => {\r\n    this.setState({ loading: true });\r\n    const { searchQuery, page } = this.state;\r\n    const options = {\r\n      searchQuery,\r\n      page,\r\n    };\r\n    ApiServices.fetchImg(options)\r\n      .then(({ hits }) =>\r\n        this.setState((prevState) => ({\r\n          images: [...prevState.images, ...hits],\r\n          page: prevState.page + 1,\r\n        }))\r\n      )\r\n      .finally(this.setState({ loading: false }));\r\n  };\r\n\r\n  render() {\r\n    const { images, loading, showModal, largeImage, alt } = this.state;\r\n    const LoadMoreBtn = images.length > 0;\r\n    return (\r\n      <div className={styles.App}>\r\n        <Searchbar onSubmit={this.onChangeQuery} />\r\n        <ImageGallery\r\n          onImgClick={this.getLargeImg}\r\n          onClick={this.toggleModal}\r\n          images={images}\r\n        />\r\n        {loading && <Loader />}\r\n        {LoadMoreBtn && !loading && <LoadMore onChange={this.fetchImages} />}\r\n        {showModal && (\r\n          <Modal\r\n            largeImg={largeImage}\r\n            alt={alt}\r\n            closeModal={this.toggleModal}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./styles.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__fEbdV\",\"Form\":\"Searchbar_Form__5uOBx\",\"Button\":\"Searchbar_Button__2r2c1\",\"ButtonLabel\":\"Searchbar_ButtonLabel__I2-9Y\",\"Input\":\"Searchbar_Input__2P9gO\"};"],"sourceRoot":""}